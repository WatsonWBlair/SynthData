# Retail Data Specification

## Overview

This document specifies the structure, fields, and statistical patterns in the synthetic retail transaction dataset generated by `RetailDataGenerator`.

## Dataset Fields

| Field | Type | Description | Example Values |
|-------|------|-------------|----------------|
| `Transaction_ID` | String | Unique transaction identifier | `TXN-00001`, `TXN-12345` |
| `Customer_ID` | String | Customer identifier | `CUST-0042`, `CUST-1234` |
| `Gender` | String | Customer gender | `Male`, `Female` |
| `Age` | Integer | Customer age (18-85) | `25`, `42`, `67` |
| `Category` | String | Product category | `Electronics`, `Clothing`, `Grocery`, `Beauty`, `Furniture` |
| `Quantity` | Integer | Items purchased | `1`, `3`, `10` |
| `Unit_Price` | Float | Price per unit ($) | `29.99`, `199.50` |
| `Discount` | Float | Discount rate (0-0.5) | `0.0`, `0.15`, `0.30` |
| `Date` | DateTime | Transaction date | `2023-01-15` |
| `Store_Region` | String | Geographic region | `West`, `North`, `East`, `South` |
| `Online_Or_Offline` | String | Transaction channel | `Online`, `Offline` |
| `Payment_Method` | String | Payment type | `Credit Card`, `Debit Card`, `Cash`, `Digital Wallet` |
| `Total_Amount` | Float | Total transaction value ($) | `85.50`, `1250.00` |

## Field Details

### Transaction_ID
- Format: `TXN-XXXXX` (5-digit zero-padded)
- Guaranteed unique within dataset
- Sequential after date sorting

### Customer_ID
- Format: `CUST-XXXX` (4-digit)
- **Online channel**: ~70% repeat customers from persistent registry
- **Offline channel**: ~70% transient (new IDs), ~30% loyalty program

### Gender
- Distribution: ~48% Male, ~52% Female
- Influences category preferences (Beauty: Female +50%, Electronics: Male +20%)

### Age
- Distribution: Normal(mean=42, std=15), clipped to [18, 85]
- Mapped to age groups for preference calculations:
  - `18-25`: Young, high online/digital preference
  - `26-35`: Young professional
  - `36-45`: Peak spending (1.25x multiplier)
  - `46-55`: Established
  - `56-65`: Pre-retirement
  - `65+`: Senior, lower online preference

### Category

| Category | Price Range | Quantity Range | Primary Demographics |
|----------|-------------|----------------|---------------------|
| Electronics | $50-$800 | 1-3 | Young, Male-skewed |
| Clothing | $20-$400 | 1-5 | Young, Female-skewed |
| Grocery | $5-$100 | 3-15 | Middle-age, balanced |
| Beauty | $10-$200 | 1-4 | Female-heavy (1.5x) |
| Furniture | $100-$1500 | 1-3 | Middle-age (36-55) |

### Discount
- Category-specific ranges
- Higher during holiday periods (1.5x probability)
- Beta distribution skewed toward lower values

### Store_Region

| Region | Population Weight | Income Mult | Urban Ratio | Online Pref |
|--------|------------------|-------------|-------------|-------------|
| West | 25% | 1.25x | 75% | 55% |
| North | 25% | 1.15x | 70% | 50% |
| East | 30% | 1.00x | 60% | 45% |
| South | 20% | 0.85x | 45% | 35% |

**Category Biases by Region:**
- West: Electronics +30%, Beauty +20%
- North: Clothing +25% (winter)
- East: Balanced (baseline)
- South: Grocery +20%, Clothing -15%

### Payment_Method
- **Online**: No cash option; Credit Card, Debit Card, Digital Wallet
- **In-Store**: All methods including Cash
- Age-adjusted: Younger customers prefer Digital Wallet; Older prefer Cash

## Statistical Patterns

### Seasonal Multipliers

#### Quarterly Patterns (Category-Specific)
| Category | Q1 | Q2 | Q3 | Q4 |
|----------|-----|-----|-----|-----|
| Electronics | 0.85 | 0.90 | 0.95 | **1.35** |
| Clothing | 1.05 | **1.15** | **1.20** | 1.10 |
| Grocery | 1.00 | 1.00 | 1.05 | 1.15 |
| Beauty | 0.95 | 1.10 | 1.05 | 1.20 |
| Furniture | 0.90 | 1.05 | 1.00 | 1.10 |

#### Holiday Periods
| Holiday | Date Range | Multiplier | Affected Categories |
|---------|------------|------------|---------------------|
| Black Friday | Nov 24-28 (approx) | 2.25x | Electronics, Clothing, Furniture, Beauty |
| Christmas | Dec 15-24 | 1.65x | Electronics, Clothing, Beauty, Furniture |
| Back to School | Aug 1-31 | 1.55x | Electronics, Clothing |
| Valentine's Day | Feb 10-14 | 1.40x | Beauty, Clothing |
| Summer Sales | Jun 15 - Jul 15 | 1.25x | Clothing, Furniture |

#### Day-of-Week Pattern
- **Weekend** (Sat-Sun): Category-specific multipliers
  - Grocery: +30%
  - Clothing: +25%
  - Furniture: +20%
  - Electronics: +15%
  - Beauty: +10%

#### Pay Cycle Pattern
| Day of Month | Multiplier |
|--------------|------------|
| 1-5 | 1.25x |
| 6-10 | 1.15x |
| 11-20 | 0.90x |
| 21-25 | 1.05x |
| 26-31 | 1.15x |

### Demographic Patterns

#### Age Group Spending Multipliers
| Age Group | Spending Mult | Online Pref | Digital Wallet Pref |
|-----------|---------------|-------------|---------------------|
| 18-25 | 0.80x | 70% | 65% |
| 26-35 | 1.10x | 65% | 55% |
| 36-45 | **1.25x** | 55% | 45% |
| 46-55 | 1.15x | 45% | 35% |
| 56-65 | 1.00x | 35% | 25% |
| 65+ | 0.85x | 25% | 15% |

#### Category-Age Preferences
| Category | 18-25 | 26-35 | 36-45 | 46-55 | 56-65 | 65+ |
|----------|-------|-------|-------|-------|-------|-----|
| Electronics | 1.30 | 1.25 | 1.10 | 0.95 | 0.85 | 0.70 |
| Clothing | 1.35 | 1.25 | 1.00 | 0.90 | 0.80 | 0.70 |
| Grocery | 0.80 | 1.00 | 1.15 | 1.20 | 1.15 | 1.10 |
| Beauty | 1.25 | 1.30 | 1.15 | 1.00 | 0.85 | 0.75 |
| Furniture | 0.60 | 1.10 | **1.35** | 1.20 | 1.00 | 0.85 |

#### Category-Gender Preferences
| Category | Male | Female |
|----------|------|--------|
| Electronics | 1.20 | 0.85 |
| Clothing | 0.85 | 1.25 |
| Grocery | 0.95 | 1.05 |
| Beauty | 0.65 | **1.50** |
| Furniture | 1.00 | 1.00 |

## Validation Targets

These are the expected statistical properties for validation:

| Pattern | Target | Test Method |
|---------|--------|-------------|
| Regional spend ordering | West/North > East > South | ANOVA p < 0.05 |
| Q4 Electronics spike | +35% vs baseline | Quarter comparison |
| Black Friday multiplier | 2-2.5x normal week | Week-over-week |
| Online repeat rate | >50% repeat customers | Customer ID analysis |
| In-store transient rate | ~70% single-visit | ID uniqueness |
| Age-Electronics correlation | Negative (r < -0.2) | Pearson correlation |
| Gender-Beauty difference | Female 50%+ higher | Chi-square test |
| Peak spending age | 36-45 age group | Group comparison |

## Total Amount Calculation

```
Total_Amount = Unit_Price * Quantity * (1 - Discount)
```

All monetary values are rounded to 2 decimal places.

## Data Generation Parameters

| Parameter | Default | Range |
|-----------|---------|-------|
| `num_transactions` | 50,000 | 100 - 10,000,000 |
| `random_seed` | 42 | Any integer |
| `start_date` | 2020-01-01 | Any valid date |
| `end_date` | 2023-12-31 | After start_date |

## Reproducibility

The generator uses a deterministic random seed. The same seed will always produce identical datasets:

```python
gen1 = RetailDataGenerator(random_seed=42)
gen2 = RetailDataGenerator(random_seed=42)
df1 = gen1.generate_retail_dataset(1000)
df2 = gen2.generate_retail_dataset(1000)
assert df1.equals(df2)  # True
```

## Usage for Regression Tasks

The primary modeling target is `Total_Amount`. Useful features include:
- **Categorical**: Category, Store_Region, Gender, Online_Or_Offline, Payment_Method
- **Numeric**: Age, Quantity, Unit_Price, Discount
- **Temporal**: Date (can extract month, quarter, day-of-week, etc.)

Expected RÂ² scores for well-tuned models: 0.70 - 0.90
